(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),l=a.n(o),c=(a(38),a(39),a(30)),i=a(11),s=a(4),d=a(5),m=a(7),u=a(6),h=a(8),p=a(28),g=a.n(p).a.create({baseURL:"https://notes-appnode.herokuapp.com",headers:{"Content-Type":"application/json"}}),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={color:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userid")||this.props.history.replace("/login"),this.setState({color:["#EEDD82","#CCF0C8","#FFCCBC","#FFF0D5","#FFBCDE","#CCE697","#B4ECEA","white","#E0FCF4","#B5FFD5"]})}},{key:"render",value:function(){var e=1+9*Math.random();e=parseInt(e);var t=localStorage.getItem("userid");return r.a.createElement("div",{className:"post p-4 m-4",key:this.props.id,style:{textAlign:"center",minWidth:"280px",backgroundColor:"white"}},r.a.createElement("p",null),r.a.createElement("h1",{className:"",style:{fontSize:"28px",fontWeight:"800"}},this.props.title),r.a.createElement("p",{className:"",style:{fontSize:"18px"}},"(",this.props.category,")"),r.a.createElement("p",{className:"text-danger",style:{fontSize:"12px",marginBottom:"0"}},"By"),this.props.userId===t?r.a.createElement("p",{className:"text-danger",style:{fontSize:"12px",fontWeight:"900",color:"green"}},"- You -"):r.a.createElement("p",{className:"text-danger",style:{fontSize:"12px",fontWeight:"900",color:"green"}},"- ",this.props.username," -"),r.a.createElement("a",{className:"btn btn-back",href:"detail/"+this.props.id},"see more"))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={notes:[],serachBy:"",searchitem:[],query:""},a.handleform=function(e){console.log(e),e.preventDefault()},a.handleLogout=function(e){localStorage.clear(),a.props.history.replace("/login")},a.handleSelect=function(e){a.setState({serachBy:e.target.value,searchitem:[]})},a.handleSearch=function(e){var t=e.target.value;a.setState({query:t}),""!=t?"category"===a.state.serachBy?g.get("/notes/byCategory/"+t).then((function(e){a.setState({searchitem:e.data})})).catch((function(e){console.log(e)})):(a.setState({serachBy:"title"}),g.get("/notes/byTitle/"+t).then((function(e){a.setState({searchitem:e.data})})).catch((function(e){console.log(e)}))):a.setState({searchitem:[],query:""})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("userid")||this.props.history.replace("/login"),g.get("/notes").then((function(t){e.setState({notes:t.data.notes})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.notes,t=this.state.searchitem;return r.a.createElement("div",null,r.a.createElement("div",{className:"header-content"},r.a.createElement("div",{className:" d-flex flex-row justify-content-around p-2"},r.a.createElement("a",{href:"/create",className:"m-2",style:{fontSize:"15px",color:"white",fontWeight:"800",border:"1px solid white",padding:"5px",borderRadius:"5px"}},"Create"),r.a.createElement("div",{className:"m-2 search-form"},r.a.createElement("form",{onSubmit:this.handleform},r.a.createElement("select",{onChange:this.handleSelect,style:{fontSize:"15px",color:"white",fontWeight:"800",border:"1px solid white",padding:"5px",borderRadius:"5px"}},r.a.createElement("option",{value:"title",style:{color:"black"}},"Title"),r.a.createElement("option",{value:"category",style:{color:"black"}},"Category")),r.a.createElement("input",{type:"text",name:"search",placeholder:"Search...",onChange:this.handleSearch}))),r.a.createElement("a",{onClick:this.handleLogout,className:"m-2",style:{fontSize:"15px",color:"white",fontWeight:"800",border:"1px solid white",padding:"5px",borderRadius:"5px",cursor:"pointer"}},"Logout"))),0===this.state.query.length&&0===t.length?r.a.createElement("div",{className:"post-content"},r.a.createElement("div",{className:"d-inline-flex align-content-between flex-wrap"},Object.keys(e).map((function(t){return r.a.createElement(f,{userId:e[t].userId,username:e[t].userName,id:e[t]._id,title:e[t].title,category:e[t].category,key:e[t]._id})})))):r.a.createElement("div",{className:"post-content"},r.a.createElement("div",{className:"d-inline-flex align-content-between flex-wrap"},Object.keys(t).map((function(e){return r.a.createElement(f,{userId:t[e].userId,username:t[e].userName,id:t[e]._id,title:t[e].title,category:t[e].category,key:t[e]._id})})))))}}]),t}(n.Component),E=a(29),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",title:"",category:"",desc:"",cod:""},a.handleDelete=function(e){var t="/notes/"+a.state._id;g.delete(t).then((function(e){console.log(e),200===e.status?a.props.history.replace("/"):a.props.history.replace("*")})).catch((function(e){console.log(e),a.props.history.replace("/*")}))},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("userid")||this.props.history.replace("/");var t="/notes/"+this.props.match.params.id;g.get(t).then((function(t){e.setState({_id:t.data._id,username:t.data.userName,title:t.data.title,category:t.data.category,desc:t.data.description,cod:t.data.createdAt,uod:t.data.updatedAt,userId:t.data.userId})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"/"},r.a.createElement("div",{className:"btn btn-warning back-btn px-4 mt-2 ml-2"},"<< Home")),""!=this.state.title?r.a.createElement("div",{className:"post-detail"},this.state.userId===localStorage.getItem("userid")?r.a.createElement("div",null,r.a.createElement("a",{onClick:this.handleDelete,style:{cursor:"pointer"}},r.a.createElement("i",{class:"fa fa-minus-circle",style:{float:"left",color:"red",fontSize:"20px"}})),r.a.createElement("a",{href:"/update/"+this.state._id},r.a.createElement("i",{class:"fa fa-edit",style:{float:"right",color:"red",fontSize:"20px",paddingLeft:"10px"}}))):r.a.createElement("div",null),r.a.createElement("h2",null,this.state.title),r.a.createElement("hr",{className:"dash"}),r.a.createElement("b",null,"- Category -"),r.a.createElement("h3",{style:{fontSize:"15px",textAlign:"center"}}," ",this.state.category),r.a.createElement("h3",{style:Object(E.a)({fontSize:"15px",fontWeight:"400",textAlign:"center"},"fontWeight","600")},"- Description -"),r.a.createElement("p",{style:{fontSize:"16px",color:"black",textAlign:"center"}},this.state.desc),this.state.userId===localStorage.getItem("userid")?r.a.createElement("h4",{style:{fontSize:"12px",color:"green",fontWeight:"900"}},"- You -"):r.a.createElement("h4",{style:{fontSize:"12px",color:"green",fontWeight:"900"}},"- ",this.state.username," -"),r.a.createElement("div",{style:{fontSize:"11px",fontWeight:"800",color:"red"}},r.a.createElement("span",{style:{float:"left"}},"CreatedAt: ",r.a.createElement("label",null," ",this.state.cod)),r.a.createElement("span",{style:{float:"right"}},"UpdatedAt: ",r.a.createElement("label",null,this.state.uod)))):r.a.createElement("h1",{style:{fontSize:"30px",color:"white",margin:"12% 40%"}},"No Record Found"))}}]),t}(r.a.Component),b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",category:"",description:""},a.handleChange=function(e){"title"===e.target.name?a.setState({title:e.target.value}):"category"===e.target.name?a.setState({category:e.target.value}):"description"===e.target.name&&a.setState({description:e.target.value})},a.handleSubmit=function(e){console.log(a.state);var t={userId:localStorage.getItem("userid"),userName:localStorage.getItem("username"),title:a.state.title,category:a.state.category,description:a.state.description};g.post("/notes/create",JSON.stringify(t)).then((function(e){console.log(e),200===e.status&&a.props.history.replace("/")})).catch((function(e){console.log(e),alert("error while creating.")})),e.preventDefault()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userid")||this.props.history.replace("/login")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"/"},r.a.createElement("div",{className:"btn btn-warning back-btn px-4 mt-2 ml-2"},"<< Home")),r.a.createElement("div",{className:"form form-group create-form"},r.a.createElement("h3",null,"Add New Post"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.handleSubmit,action:"/"},r.a.createElement("input",{type:"text",name:"title",placeholder:"Post title....",required:!0,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"category",placeholder:"Category....",required:!0,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"description",placeholder:"description....",required:!0,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-success"},"Add New"))))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",name:"",id:""},a.handleChange=function(e){"email"===e.target.name?a.setState({email:e.target.value}):"password"===e.target.name&&a.setState({password:e.target.value})},a.handleSubmit=function(e){var t={email:a.state.email,password:a.state.password};g.post("/login",JSON.stringify(t)).then((function(e){console.log(e),200===e.status&&(a.setState({id:e.data.id,name:e.data.name}),localStorage.setItem("userid",e.data.id),localStorage.setItem("username",e.data.name),a.props.history.replace("/"))})).catch((function(e){console.log(e),alert("invalid password or email")})),e.preventDefault()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userid")&&this.props.history.replace("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email",name:"email",placeholder:"useremail",onChange:this.handleChange,required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",onChange:this.handleChange,required:!0}),r.a.createElement("button",{style:{backgroundColor:"drakcayon",color:"white"}},"login"))))}}]),t}(n.Component),x=function(){return r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{class:"notfound"},r.a.createElement("div",{class:"notfound-404"},r.a.createElement("h3",null,"Oops! Page not found"),r.a.createElement("h1",null,r.a.createElement("span",null,"4"),r.a.createElement("span",null,"0"),r.a.createElement("span",null,"4"))),r.a.createElement("h2",null,"we are sorry, but the page you requested was not found")))},C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={post_id:"",title:"",category:"",description:""},a.handleChange=function(e){"title"===e.target.name?a.setState({title:e.target.value}):"category"===e.target.name?a.setState({category:e.target.value}):"description"===e.target.name&&a.setState({description:e.target.value})},a.handleSubmit=function(e){console.log("state",a.state);var t="/notes/"+a.state.post_id,n={title:a.state.title,category:a.state.category,description:a.state.description};g.put(t,JSON.stringify(n)).then((function(e){console.log(e),200===e.status&&a.props.history.replace("/")})).catch((function(e){console.log(e),alert("Note Not updated.")})),e.preventDefault()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.get("/notes/"+t).then((function(t){console.log(t.data),e.setState({post_id:t.data._id,title:t.data.title,category:t.data.category,description:t.data.description})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"/"},r.a.createElement("div",{className:"btn btn-warning back-btn px-4 mt-2 ml-2"},"<< Home")),r.a.createElement("div",{className:"form form-group create-form"},r.a.createElement("h3",null,"Update Post"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.handleSubmit,action:"/"},r.a.createElement("input",{type:"text",name:"title",placeholder:"Post title....",value:this.state.title,required:!0,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"category",placeholder:"Category....",value:this.state.category,required:!0,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"description",placeholder:"description....",value:this.state.description,required:!0,onChange:this.handleChange}),r.a.createElement("button",{className:"btn",style:{backgroundColor:"drakcayon",color:"white"}},"Add New"))))}}]),t}(r.a.Component);var w=function(){return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:y}),r.a.createElement(i.a,{path:"/create",exact:!0,component:b}),r.a.createElement(i.a,{path:"/login",exact:!0,component:S}),r.a.createElement(i.a,{path:"/detail/:id",exact:!0,component:v}),r.a.createElement(i.a,{path:"/update/:id",exact:!0,component:C}),r.a.createElement(i.a,{path:"*",component:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.90835243.chunk.js.map